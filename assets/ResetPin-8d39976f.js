import{e as N,r as b,n as w,u as S,o as x,p as y,t,j as e,F as C,a as i}from"./index-c8e33977.js";import{u as P,C as u,a as j}from"./formik.esm-521e0ce2.js";import{u as B}from"./useAxiosPrivate-2868b71b.js";import{B as F}from"./BreadcrumNav-bfb8bbf9.js";const U=()=>{N("Reset security pin");const[d,n]=b.useState(!1),m=w(r=>r.user.user),h=S(),v=B(),{handleBlur:a,handleChange:o,handleSubmit:g,errors:l,touched:p,values:c}=P({initialValues:{oldpin:"",newpin:""},validationSchema:x(m.security_pin),onSubmit(r,f){n(!0),v.post("/reset-support-pin/",r).then(({data:s})=>{console.log(s),s.msg&&s.user?(h(y(s.user)),t.info("Support pin change"),f.resetForm()):s.error&&t.error("Something went wrong")}).catch(s=>{t.error("Error"),console.log(s)}),n(!1)}});return e(C,{children:e("div",{className:"container",children:i("div",{className:"row justify-content-center",children:[e(F,{pagenavTitle:"Reset pin",currentPage:"pin"}),e("div",{className:"mt-4"}),e("div",{className:"col-lg-6",children:e("div",{className:" resetCard",children:i("div",{className:"card-body",children:[e("h3",{children:"Reset pin"}),i("form",{onSubmit:g,autoComplete:"false",children:[e("div",{className:" mb-3",children:e(u,{handleBlur:a,handleChange:o,label:"Old support pin",name:"oldpin",type:"text",value:c.oldpin,touched:p.oldpin,error:l.oldpin,placeholder:"Old support pin",id:""})}),e("div",{className:" mb-3",children:e(u,{handleBlur:a,handleChange:o,label:"New support pin",name:"newpin",type:"text",value:c.newpin,touched:p.newpin,error:l.newpin,placeholder:"New support pin",id:""})}),e("div",{className:"d-grid gap-2",children:e(j,{color:"outline-primary",text:"Submit",loading:d,type:"submit"})})]})]})})})]})})})};export{U as default};
