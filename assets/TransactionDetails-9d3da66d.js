import{e as v,r as n,z as T,n as w,R as y,j as e,F as r,a as t,L as E,S as c}from"./index-c8e33977.js";import{u as b}from"./useAxiosPrivate-2868b71b.js";import{h as P}from"./moment-fbc5633a.js";const L=()=>{v("Transaction Details");const u=b(),[s,x]=n.useState(),[N,l]=n.useState(""),[p,d]=n.useState("Loading.."),[f,o]=n.useState(""),[D,h]=n.useState(""),{id:m}=T(),g=w(i=>i.user.user);n.useEffect(()=>{const i=setTimeout(()=>{u.get(`/transactions/${m}`).then(({data:a})=>{a.transaction&&(a.transaction.sender.username==g.username?(h("Send"),o("to")):(h("Receive"),o("from")),a.transaction.interDetail?l(a.transaction.interDetail.full_name):a.transaction.receiver&&l(a.transaction.receiver.full_name)),d("finished"),x(a.transaction)}).catch(a=>{console.log(a),d("Not Found")})},1e3);return()=>clearTimeout(i)},[m]);const S=document.getElementById("dialog-wrapper");return y.createPortal(e(r,{children:t("div",{className:"txtDialog active",children:[e(E,{to:"/transactions-log",className:"txtDialogclose",children:e("i",{className:"fa-solid fa-xmark"})}),e("div",{className:"txtDialogContent text-truncate",children:s?t(r,{children:[e("h5",{className:"text-center",children:"Transaction"}),e("div",{className:"txtDialogHead",children:e("div",{children:e("div",{className:"txtDHname text-truncate",children:t("h4",{className:"",children:[t("small",{className:"text-small text-muted",children:[" ",D," ",f," :"]})," ",N]})})})}),e("div",{className:"txtDialogBody",children:t("table",{className:"table",children:[e("thead",{}),t("tbody",{children:[t("tr",{children:[e("td",{children:"Type"}),e("td",{className:"text-center",children:e("span",{id:"with-user",children:s.type})})]}),t("tr",{children:[e("td",{children:"Beneficiary"}),e("td",{className:"text-center",children:e("span",{id:"with-user",children:s.ben_acct})})]}),t("tr",{children:[e("td",{children:"Amount"}),t("td",{className:"text-center text-danger",children:["$",e("span",{id:"with-amount",children:s.amount})]})]}),t("tr",{children:[e("td",{children:"Date"}),e("td",{className:"text-center",children:e("span",{id:"with-date",children:`${P(s.date).format("MMM Do YY")}`})})]}),t("tr",{children:[e("td",{children:"Description"}),e("td",{className:"text-center text-truncate text-muted",children:e("span",{id:"with-date",children:s.purpose})})]}),t("tr",{children:[e("td",{children:"Status"}),t("td",{className:"text-center ",children:[s.status==c.DECLINED?e("span",{className:"text-danger",id:"with-status",children:s.status}):null,s.status==c.PENDING?e("span",{className:"text-warning",id:"with-status",children:s.status}):null,s.status==c.SUCCESS?e("span",{className:"text-success",id:"with-status",children:s.status}):null]})]})]})]})})]}):e(r,{children:e("h3",{className:"text-center",children:p})})})]})}),S)};export{L as default};
